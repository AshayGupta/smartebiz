<ion-header>
  <app-header [headerTitle]="headerTitle" (headerOutput3)="goToLoanHistory($event)">
  </app-header>
</ion-header>

<ion-content padding>
  <div class="verify-loan">
    <ion-row>
    <h1 class="subHeader-Wrap">Product : {{this.advanceQuoteReq.policyName}} - {{this.advanceQuoteReq.policyNo}}</h1>
      <div class="step-sec">
        <div class="col-3">
          <img src="assets/imgs/Group%2019341.png">
        </div>
        <div class="col-8">
          <label>step3:</label>
          <span>verify form</span>
        </div>
      </div>

      <div class="loan-applica">
        <div class="loan-text">Loan Application</div>
        <div class="icon">
          <button ion-button (click)="editClicked()">
            <img src="assets/imgs/edit%20icon.svg">
          </button>
          <button ion-button (click)="deleteClicked()">
            <img src="assets/imgs/delete.svg">
          </button>
        </div>
      </div>
      <div class="history-sec">
        <div class="amountSec">
          <div class="key">Maximum Amount</div>
          <div class="pull-right blue-text txt-transfrm">kes {{advanceQuoteReq.availableAmount}}</div>
        </div>
        <div class="amountSec">
          <div class="key">Loan Amount</div>
          <div class="pull-right blue-text txt-transfrm">kes {{advanceQuoteReq.loanAmount}}</div>
        </div>
        <div class="amountSec">
          <div class="key">Interest Rate</div>
          <div class="pull-right blue-text txt-transfrm">{{advanceQuoteReq.rateOfInterest}}%</div>
        </div>
      </div>
      <div class="history-sec">
        <div class="amountSec">
          <div class="key">Monthly Installment</div>
          <div class="pull-right txt-transfrm green-colr">kes {{advanceQuoteReq.monthlyInstallment}}</div>
        </div>
        <div class="amountSec">
          <div class="key">Total Interest Paid</div>
          <div class="pull-right txt-transfrm">kes {{advanceQuoteReq.interestPaid}}</div>
        </div>
        <div class="amountSec">
          <div class="key">Total Amount</div>
          <div class="pull-right txt-transfrm">kes {{advanceQuoteReq.totalAmount}}</div>
        </div>
        <div class="amountSec">
          <div class="key">Loan Repayment Period</div>
          <div class="pull-right txt-capitalize">{{advanceQuoteReq.loanPeriod}} Months</div>
        </div>
      </div>
      <div class="history-sec">
        <div class="deduction-sec">
          <details>
            <summary>
              <p>Deductions <span class="total-deduct"><span class="alignRight">kes {{this.advanceQuoteReq.deductionList.deductionSum}}</span><span class="dw">
                  <ion-icon name="ios-arrow-down"></ion-icon>
                </span></span>
              </p> 
            </summary>
            <div class="amountSec p-l-10" *ngFor="let item of this.advanceQuoteReq.deductionList.deductionArray; let i = index">
              <div *ngIf="item.type=='PORTAL_CHARGE' "  class="key">1. Portal Charge</div>
              <div *ngIf="item.type=='LFEE_DMND' " class="key">2. Excise Duty</div>
              <div *ngIf="item.type=='STAMP_DUTY' " class="key">3. Stamp Duty</div>
              <div class="pull-right txt-transfrm blue-text">KES {{item.amount}}</div>
              
            </div>
          </details>
        </div>
      </div>

      
      
      

      <div class="history-sec">
        <div *ngIf="advanceQuoteReq.paymentMode == bankPayoutTag.BANK">
          <div class="amountSec">
            <div class="key">Select Bank</div>
            <div class="pull-right txt-capitalize">{{advanceQuoteReq.bankName}}</div>
          </div>
          <div class="amountSec">
            <div class="key">Account Number</div>
            <div class="pull-right txt-capitalize">{{advanceQuoteReq.bankAccNo}}</div>
          </div>
          <div class="amountSec">
            <div class="key">Branch</div>
            <div class="pull-right txt-capitalize">{{advanceQuoteReq.bankBranch}}</div>
          </div>
        </div>
      </div>

      <div *ngIf="advanceQuoteReq.paymentMode == bankPayoutTag.MPESA">
        <div class="amountSec">
          <div class="key">Mobile No.</div>
          <div class="pull-right txt-capitalize">{{advanceQuoteReq.mobile}}</div>
        </div>
        <div class="amountSec">
          <div class="key">Amount</div>
          <div class="pull-right txt-capitalize">{{advanceQuoteReq.loanAmount}}</div>
        </div>
      </div>

    </ion-row>
  </div>
</ion-content>

<ion-footer>
  <button ion-button full text-uppercase class="m-0 submitBtn padd-0" (click)="proceedClicked()">Proceed</button>
</ion-footer>